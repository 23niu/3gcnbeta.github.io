"use strict";window.onload=function(){function t(t,e){var s=t.order||1e4,n=e.order||1e4;return s>n?1:n>s?-1:0}function e(s){var o=[];if(!s)return"";if(s.items&&s.items.length){for(var i=s.items.sort(t),r=0;r<i.length;r++)i[r]&&o.push(e(i[r]));return n({name:s.name,sub:o.join("")})}return s.url?(s.favicon=s.favicon||s.url+"/favicon.ico",a(s)):""}var s=$("#section").html(),n=window.Handlebars.compile(s),o=$("#item").html(),a=window.Handlebars.compile(o);$(".links").html("");var i=$('<iframe frameborder="0" width=100% name=nav id=nav src="https://www.baidu.com"/>');i.on("load",function(){document.getElementById("nav").height=$(".root").height()}),$(".content").html(i),$.ajax({url:"data/sites.json",method:"get",dataType:"JSON",success:function(t){console.log(t);var s=$('<ul class="root">').append(e(t));$(".links").append(s),$("img").each(function(){this.setAttribute("src",this.getAttribute("ng-src"))}),$("img").on("error",function(){this.src="https://assets-cdn.github.com/favicon.ico"}),$(".title > h3").on("mouseover",function(){this.style.display="block"}),$(".title > h3").on("mouseout",function(){this.style.display="none"})}});var r;r="https://www.google.com.hk/?q=",window.select=function(t){switch(t){case"google":r="https://www.google.com.hk/?q=",$("#searches").html('Google <span class="caret"></span>'),i.attr("src","https://www.google.com");break;case"baidu":r="https://www.baidu.com/s?wd=",$("#searches").html('Baidu <span class="caret"></span>'),i.attr("src","https://www.baidu.com");break;case"bing":r="https://global.bing.com/search?q=",$("#searches").html('Bing <span class="caret"></span>'),i.attr("src","https://www.bing.com")}$(".btn-query").attr("href",r+$("#q").val())},$("#q").keyup(function(){$(".btn-query").attr("href",r+$("#q").val())})};